<!DOCTYPE html>
<html lang="fr">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>JulManBOT â€¢ Connexion</title>

        <meta property="og:type" name="og:type" content="website" />
        <meta property="og:title" name="og:title" content="JulManBOT â€¢ Connexion">
        <meta name="description" name="description"
            content="JulManBOT est un bot configurable et d'administration avec une aide qui aide ðŸ¤£">
        <meta name="og:description" property="og:description"
            content="JulManBOT est un bot configurable et d'administration avec une aide qui aide ðŸ¤£">
        <meta property="og:url" name="og:url" content="https://julmanbot.github.io" />
        <meta property="og:site_name" name="og:site_name" content="julmanbot.github.io" />
        <meta property="og:keywords" name="og:keywords" content="GitHub pages,JavaScrpt,Discord Bot" />

        <!-- adl integration -->
        <script async defer src="https://julmanbot.github.io/adl.js"></script>
        <!-- login integration -->
        <script async defer src="connection.js"></script>

        <!-- Main script -->
        <script>
            document.querySelector('script').addEventListener('load', function () {
                document.querySelectorAll('script')[1].addEventListener('load', function () {
                    const search = new URLSearchParams(location.search);

                    if (search.has("client_id")) {
                        if (search.has("target")) {
                            try {
                                login(new DiscordBot(`${search.get("client_id")}`), new DiscordClient(), `${search.get("target")}`);
                            } catch {
                                window.location.reload();
                            }
                        } else {
                            document.querySelector('p').outerHTML = "Erreur : <code>Missing \"target\" args</code>";
                        }
                    } else {
                        document.querySelector('p').outerHTML = "Erreur : <code>Missing \"client_id\" args</code>";
                    }
                });
            });
        </script>
    </head>

    <body>
        <p id="error-view">
            Si vous n'Ãªtes pas rediriger, veuillez rafraichir la page (<code>Ctrl+R</code> ou <code>Cmd+R</code> ou
            <code>F5</code>)
        </p>
    </body>

</html>